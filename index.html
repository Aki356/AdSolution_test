<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="slick/slick/slick.css">
    <link rel="stylesheet" href="slick/slick/slick-theme.css">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="mobile.css">
    <title>Тестовое задание</title>
</head>
<body>
    <header class="navigation">
        <nav class="navigation__container container">
            <div class="navigation__logo">
                <h1><a href="">Logo</a></h1>
                <div class="navigation__menu">
                    <img src="images/menu.svg" alt="">
                    <img src="images/menu.svg" alt="">
                    <img src="images/menu.svg" alt="">
                </div>
            </div>
            <div class="navigation__links">
                <ul>
                    <li><a class="navigation__link" href="">People nearby</a></li>
                    <li><a class="navigation__link" href="">Search</a></li>
                </ul>
                <div class="btn btn--nav">
                    <a href="">
                        <p>Premium</p>
                        <div class="navigation__btn-img"><img src="images/diamond.svg" alt="Premium"></div>
                    </a>
                </div>
                <div class="navigation__premium">
                    <img src="images/diamond.svg" alt="Premium">
                </div>
            </div>
            
        </nav>
    </header>
    <div class="container">
        <section class="account">
            <div class="account__info">
                <div class="account__photo"><img src="images/photo.png" alt="My Photo"></div>
                <div class="account__data">
                    <h2>Test2412</h2>
                    <div class="btn btn--acc"><a href="">GET PREMIUM</a></div>
                </div>
            </div>
            <div class="account__links">
                <ul>
                    <li><a class="account__link" href=""><div class="account__link-img"><img src="images/profile.svg" alt="Profile"></div>Profile</a></li>
                    <li><a class="account__link" href=""><div class="account__link-img"><img src="images/my_photos.svg" alt="My photos"></div>My photos</a></li>
                    <li><a class="account__link" href=""><div class="account__link-img"><img src="images/messages.svg" alt="Messages"></div>Messages</a></li>
                    <li><a class="account__link" href=""><div class="account__link-img"><img src="images/favorites.svg" alt="Favorites"></div>Favorites</a></li>
                    <li><a class="account__link" href=""><div class="account__link-img"><img src="images/guests.svg" alt="Guests"></div>Guests</a></li>
                    <li><a class="account__link" href=""><div class="account__link-img"><img src="images/settings.svg" alt="Settings"></div>Settings</a></li>
                    <li><a class="account__link" href=""><div class="account__link-img"><img src="images/log_out.svg" alt="Log out"></div>Log out</a></li>
                </ul>
            </div>
        </section>
        <section class="main">
            <h2 class="main__title">Закончились кредиты?</h2>
            <div class="main__sale_timer">
                <h2>Скидка 40%</h2>
                <h4>Предложение действует в течение:</h4>
                <div class="main__timer">
                    <h2>00:00:00</h2>
                </div>
            </div>
            <div class="main__offers">
                <div class="main__item">
                    <div class="main__offer">One time offer!</div>
                    <div class="main__price">
                        <h3>50</h3>
                        <div class="main__price-img"><img src="images/money.svg" alt="CR"></div>
                        <h3 class="main__price--hidden"> / $5</h3>
                    </div>
                    <div class="btn btn--offer">
                        <a href="">
                            <p>Buy now</p>
                        </a>
                    </div>
                </div>
                <div class="main__item">
                    <div class="main__offer">One time offer!</div>
                    <div class="main__price">
                        <h3>150</h3>
                        <div class="main__price-img"><img src="images/money.svg" alt="CR"></div>
                        <h3 class="main__price--hidden"> / $5</h3>
                    </div>
                    <div class="btn btn--offer">
                        <a href="">
                            <p>Buy now</p>
                        </a>
                    </div>
                </div>
                <div class="main__item">
                    <div class="main__offer">One time offer!</div>
                    <div class="main__price">
                        <h3>300</h3>
                        <div class="main__price-img"><img src="images/money.svg" alt="CR"></div>
                        <h3 class="main__price--hidden"> / $5</h3>
                    </div>
                    <div class="btn btn--offer">
                        <a href="">
                            <p>Buy now</p>
                        </a>
                    </div>
                </div>
                <div class="main__item">
                    <div class="main__offer">One time offer!</div>
                    <div class="main__price">
                        <h3>500</h3>
                        <div class="main__price-img"><img src="images/money.svg" alt="CR"></div>
                        <h3 class="main__price--hidden"> / $5</h3>
                    </div>
                    <div class="btn btn--offer">
                        <a href="">
                            <p>Buy now</p>
                        </a>
                    </div>
                </div>
                <div class="main__item">
                    <div class="main__offer">One time offer!</div>
                    <div class="main__price">
                        <h3>1000</h3>
                        <div class="main__price-img"><img src="images/money.svg" alt="CR"></div>
                        <h3 class="main__price--hidden"> / $5</h3>
                    </div>
                    <div class="btn btn--offer">
                        <a href="">
                            <p>Buy now</p>
                        </a>
                    </div>
                </div>
                <div class="main__item main__item--special_offer">
                    <div class="main__offer">One time offer!</div>
                    <div class="main__price">
                        <h3>1000</h3>
                        <div class="main__price-img"><img src="images/money.svg" alt="CR"></div>
                        <h3 class="main__price--hidden"> / $5</h3>
                    </div>
                    <div class="btn btn--offer">
                        <a href="">
                            <p>Buy now</p>
                        </a>
                    </div>
                </div>
            </div>
            <div class="btn btn--mobile">
                <a href="">Try now</a>
            </div>
            <div class="main__checkbox">
                <label class="main__custom-checkbox">
                    <input type="checkbox">
                    <span class="main__checkmark">
                        <img src="images/check.svg" alt="✓">
                    </span>
                    <p>By clicking Checkbox you agree and accept our <a href="">Privacy Policy</a>, and <a href="">Terms of use</a></p>
                </label>
            </div>
            <div class="main__container">
                <div class="main__diamond">
                    <div class="main__center">
                        <img src="images/big_diamond.svg" alt="Diamond Icon">
                    </div>
                    <!-- Пункт 1 -->
                    <div class="main__item--diamond">
                        <div class="main__icon">
                            <img src="images/messages.svg" alt="Diamond Icon">
                        </div>
                        <div class="main__text">Отправлять сообщения</div>
                    </div>
            
                    <!-- Пункт 2 -->
                    <div class="main__item--diamond">
                        <div class="main__icon">
                            <img src="images/favorites.svg" alt="Diamond Icon">
                        </div>
                        <div class="main__text">Пользоваться другими премиум функциями</div>
                    </div>
            
                    <!-- Пункт 3 -->
                    <div class="main__item--diamond">
                        <div class="main__icon">
                            <img src="images/prize.svg" alt="Diamond Icon">
                        </div>
                        <div class="main__text">Оплачивать подарки</div>
                    </div>
            
                    <!-- Пункт 4 -->
                    <div class="main__item--diamond">
                        <div class="main__icon">
                            <img src="images/guests.svg" alt="Diamond Icon">
                        </div>
                        <div class="main__text">Просматривать скрытые фото</div>
                    </div>
            
                    <!-- Пункт 5 -->
                    <div class="main__item--diamond">
                        <div class="main__icon">
                            <img src="images/settings.svg" alt="Diamond Icon">
                        </div>
                        <div class="main__text">Просматривать скрытые фото</div>
                    </div>
    
                    <!-- Пункт 6 -->
                    <div class="main__item--diamond">
                        <div class="main__icon">
                            <img src="images/messages.svg" alt="Diamond Icon">
                        </div>
                        <div class="main__text">Просматривать скрытые фото</div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"></script>
    <script src="slick/slick/slick.min.js"></script>
    <script src="main.js"></script>
    <script>
        
        document.addEventListener('DOMContentLoaded', () => {
            const mainOffers = document.querySelector('.main__offers');

            if (!mainOffers) {
                console.error('Элемент .main__offers не найден на странице.');
                return;
            }

            // Находим все элементы .main__item и .main__price
            const items = mainOffers.querySelectorAll('.main__item');
            const prices = mainOffers.querySelectorAll('.main__price');
            const itemCount = items.length;

            // Функция для проверки условий
            const shouldApplyBottomMargin = (index) => {
                // Условия для отступа снизу
                return (
                    (itemCount >= 4 && (
                        ((itemCount - 4) % 5 === 0 ) || // Первые (itemCount - 3) элементов
                        ((itemCount - 5) % 5 === 0 )   // Первые (itemCount - 4) элементов
                    ) || 
                    ((index <= itemCount - 4) ||
                    (index <= itemCount - 5) )
                    )
                );
            };

            const shouldApplyRightMargin = (index) => {
                // Условия для отступа справа
                return (
                    (itemCount <= 3 || 
                        ((itemCount - 1) % 5 === 0 && index >= itemCount - 1) || // Последние 3 элемента
                        ((itemCount - 2) % 5 === 0 && index >= itemCount - 2) || // Последние 2 элемента
                        ((itemCount - 3) % 5 === 0 && index >= itemCount - 3)    // Последний элемент
                    ) // Если элементов 3 или меньше
                );
            };

            // Применяем стили для каждого элемента .main__price
            prices.forEach((price, index) => {
                console.log(shouldApplyBottomMargin(index));
                console.log(shouldApplyRightMargin(index));
                if (shouldApplyBottomMargin(index)) {
                    price.style.marginBottom = '11px'; // Отступ снизу
                    price.style.marginRight = '0';    // Убираем отступ справа
                } else if (shouldApplyRightMargin(index)) {
                    price.style.marginBottom = '0';   // Убираем отступ снизу
                    if($(window).width() < 321){
                        price.style.marginRight = '33px';
                    }
                    else{
                        price.style.marginRight = '40px'; // Отступ справа
                    }
                }
            });
        });

        function startTimer(duration, display) {
            let timer = duration, hours, minutes, seconds;
            setInterval(function () {
                hours = parseInt(timer / 3600, 10);
                minutes = parseInt((timer % 3600) / 60, 10);
                seconds = parseInt(timer % 60, 10);
    
                hours = hours < 10 ? "0" + hours : hours;
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;
    
                display.textContent = hours + ":" + minutes + ":" + seconds;
    
                if (--timer < 0) {
                    timer = duration;
                }
            }, 1000);
        }
    
        window.onload = function () {
            const tenMinutes = 60 * 10,
                display = document.querySelector('.main__timer h2');
            startTimer(tenMinutes, display);
        };
    </script>
</body>
</html>